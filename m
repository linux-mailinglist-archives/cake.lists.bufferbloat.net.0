Return-Path: <cake-bounces@lists.bufferbloat.net>
X-Original-To: lists+cake@lfdr.de
Delivered-To: lists+cake@lfdr.de
Received: from lists.bufferbloat.net (lists.bufferbloat.net [IPv6:2600:3c03:e000:3ca:f00f:f00f:b33b:b33b])
	by mail.lfdr.de (Postfix) with ESMTPS id B534C9EA28F
	for <lists+cake@lfdr.de>; Tue, 10 Dec 2024 00:15:15 +0100 (CET)
Received: from pitt.bufferbloat.net (localhost [127.0.0.1])
	by lists.bufferbloat.net (Postfix) with ESMTP id 0FF583CB43;
	Mon,  9 Dec 2024 18:15:13 -0500 (EST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
	d=lists.bufferbloat.net; s=201610; t=1733786113;
	bh=WOZJBK1Z+JkH30/aJSYpFw7VkYFitJ3uQn7S8+VVJO0=;
	h=References:In-Reply-To:Date:To:Subject:List-Id:List-Unsubscribe:
	 List-Archive:List-Post:List-Help:List-Subscribe:From:Reply-To:Cc:
	 From;
	b=UH6FLQ0LpZVWhhxObLT2ZJ+2dpxzTOec2PbPJEIpYhKrpP251Lo7sQ4nlgpK9fzzZ
	 q6q06StSOrPLnkktosSXqqTjxdIS1oAnCsWF3k4P9e0c5D/JAlDRdgCUjPfgatBkMv
	 KEWWje3FbkgKtJqHx//9Ogr1wd8M+jbqYmz8Y74ZmHgir2B4ttrslZjPJYB7akor++
	 +KvfRgFbp7RdgNLYM3eqHnMTqi6oXHV3wPIZucksoSlHE9N5UgTFJICvIjDS/vqZUD
	 FsEeGPw/HGhv7NBgUgPDzjxKjkmlBFuuGVXAvpFSSfwJVVKcWzgOmEw/gSqEGsz7fN
	 lQ5IvhG9yVJAA==
X-Original-To: cake@lists.bufferbloat.net
Delivered-To: cake@lists.bufferbloat.net
Received: from mail-oa1-x29.google.com (mail-oa1-x29.google.com
 [IPv6:2001:4860:4864:20::29])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by lists.bufferbloat.net (Postfix) with ESMTPS id 7D91D3CB38
 for <cake@lists.bufferbloat.net>; Mon,  9 Dec 2024 18:15:11 -0500 (EST)
Received: by mail-oa1-x29.google.com with SMTP id
 586e51a60fabf-29e5aedbebdso2483151fac.0
 for <cake@lists.bufferbloat.net>; Mon, 09 Dec 2024 15:15:11 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20230601; t=1733786111; x=1734390911; darn=lists.bufferbloat.net;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:from:to:cc:subject:date
 :message-id:reply-to;
 bh=eT0taicduTyFzRj+hGHo9ToMaJn9bA+H0OcTkrm9EV4=;
 b=b1MMVBYDzUTqIO8WQI7o2nBwL7YhjJkSr3HPwbb498uYOJeOicFF/jB7plIxd/X3bs
 bRz+tJ4WUcvFCby5G+XIZOoJlRIJhadKRPTu+eMMesLsIX+FtDmK59od6aMQFme1czes
 b+L+6YYi/XzCJmDC7FlTdRwVYQTdiQbvTJ5Zr2bJRXYPxzR3XaysSOb8RmFlTmboCsk0
 KfhQSr0SKkx58Grek35bwkoRSkoBdd29omlfE4WRJEqd7+vP/0ftAr6QFPUyfgat+OMx
 9J/5548hoK6vgMSAdQjuyZHi7ODEwRIJcMBVNLo4zXMQe7iZB1aCPOqTFiZLUfYGgLhm
 vUbw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20230601; t=1733786111; x=1734390911;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=eT0taicduTyFzRj+hGHo9ToMaJn9bA+H0OcTkrm9EV4=;
 b=ZX0x9Jf6afoQTr0nuAvHSQWxgfyyaTtunONIuPXEgKV7CPnJl3TafdTxvaHmu4y/n4
 CH9cyED04r11SvxzipKP45eeDHVbJrhxGUtto9qxIh8FB/axa0QtGQ53wlVnniomLy63
 lnAS36bX8fvogexJrgBZW9J1tsJT74QG/af5fFup294Pii8hNtmpFCig6/OW4zHiS+CL
 7cV8aTDLhwNK9zbxiwMlf3kDrbgkIMYtz2Hhx7SApWVD5oRV4WdY5lH/f/0pqLswh6mh
 1QrHDYFjskpEjZu9lyyhX0uuKUcZfTQk2Q06Hdh0lCfv1ycPcAPXTyuV/WzR4M29Y+2J
 BOOA==
X-Forwarded-Encrypted: i=1;
 AJvYcCWVhkZa4zJPTiTRgZXR7zisymDh/AqCDD8ihcVogwzuw0tWoXZQlN9GDl1yWunnRWFmm1oc@lists.bufferbloat.net
X-Gm-Message-State: AOJu0YzvbgXyDubP74BGuAkdrMFpmi8kb6j3fSJHZM1bQZBrghtlQoGD
 yFwhycafgWTiAab33wmnIZxB+Evkvefr7gfWxvEDSFSNrsnwNLicdh/QyXyTyYElCfPwck0HuoE
 ajuzLTzx7H9HbFnljBQxhjl5miqQ=
X-Gm-Gg: ASbGncthWxdyEqbFS4YHcwiBZBWqh3FJ34Dl7C3knv6rybexOEYbEf62x1uJyWlPGvO
 MkvItWs0GG7VPKpfrkpaMUVmvgW0pVBjZEZVAWknDd7Ew7HAiTR/HgbCrAawGlX/Skt6Fzw==
X-Google-Smtp-Source: AGHT+IEn+3skx6FmigV7ZMQEpIkDaJIGAiVLy0ww5xKkWsijLHrrkkQOAhw63Hy2tGYlpqBEC8/XakwSF2wefq/MygY=
X-Received: by 2002:a05:6870:390f:b0:296:fff8:817 with SMTP id
 586e51a60fabf-29fee724c79mr1524427fac.35.1733786110756; Mon, 09 Dec 2024
 15:15:10 -0800 (PST)
MIME-Version: 1.0
References: <20241209-cake-drop-reason-v1-1-19205f6d1f19@redhat.com>
In-Reply-To: <20241209-cake-drop-reason-v1-1-19205f6d1f19@redhat.com>
Date: Mon, 9 Dec 2024 15:14:58 -0800
Message-ID: <CAA93jw4S_fLpZDvk04QxeAaBaH5m6d8px1jE-B4KKqR-C88Khw@mail.gmail.com>
To: =?UTF-8?B?VG9rZSBIw7hpbGFuZC1Kw7hyZ2Vuc2Vu?= <toke@redhat.com>
Subject: Re: [Cake] [PATCH net-next] net_sched: sch_cake: Add drop reasons
X-BeenThere: cake@lists.bufferbloat.net
X-Mailman-Version: 2.1.20
Precedence: list
List-Id: Cake - FQ_codel the next generation <cake.lists.bufferbloat.net>
List-Unsubscribe: <https://lists.bufferbloat.net/options/cake>,
 <mailto:cake-request@lists.bufferbloat.net?subject=unsubscribe>
List-Archive: <https://lists.bufferbloat.net/pipermail/cake>
List-Post: <mailto:cake@lists.bufferbloat.net>
List-Help: <mailto:cake-request@lists.bufferbloat.net?subject=help>
List-Subscribe: <https://lists.bufferbloat.net/listinfo/cake>,
 <mailto:cake-request@lists.bufferbloat.net?subject=subscribe>
From: Dave Taht via Cake <cake@lists.bufferbloat.net>
Reply-To: Dave Taht <dave.taht@gmail.com>
Cc: Jiri Pirko <jiri@resnulli.us>, netdev@vger.kernel.org,
 Jamal Hadi Salim <jhs@mojatatu.com>, cake@lists.bufferbloat.net,
 Eric Dumazet <edumazet@google.com>, Simon Horman <horms@kernel.org>,
 Cong Wang <xiyou.wangcong@gmail.com>, Jakub Kicinski <kuba@kernel.org>,
 Paolo Abeni <pabeni@redhat.com>, "David S. Miller" <davem@davemloft.net>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: cake-bounces@lists.bufferbloat.net
Sender: "Cake" <cake-bounces@lists.bufferbloat.net>

T24gTW9uLCBEZWMgOSwgMjAyNCBhdCA0OjAy4oCvQU0gVG9rZSBIw7hpbGFuZC1Kw7hyZ2Vuc2Vu
IHZpYSBDYWtlCjxjYWtlQGxpc3RzLmJ1ZmZlcmJsb2F0Lm5ldD4gd3JvdGU6Cj4KPiBBZGQgdGhy
ZWUgcWRpc2Mtc3BlY2lmaWMgZHJvcCByZWFzb25zIGZvciBzY2hfY2FrZToKPgo+ICAxKSBTS0Jf
RFJPUF9SRUFTT05fQ0FLRV9DT05HRVNURUQKPiAgICAgV2hlbmV2ZXIgYSBwYWNrZXQgaXMgZHJv
cHBlZCBieSB0aGUgQ0FLRSBBUU0gYWxnb3JpdGhtIGJlY2F1c2UKPiAgICAgY29uZ2VzdGlvbiBp
cyBkZXRlY3RlZC4KPgo+ICAyKSBTS0JfRFJPUF9SRUFTT05fQ0FLRV9GTE9PRAo+ICAgICBXaGVu
ZXZlciBhIHBhY2tldCBpcyBkcm9wcGVkIGJ5IHRoZSBmbG9vZCBwcm90ZWN0aW9uIHBhcnQgb2Yg
dGhlCj4gICAgIENBS0UgQVFNIGFsZ29yaXRobSAoQkxVRSkuCj4KPiAgMykgU0tCX0RST1BfUkVB
U09OX0NBS0VfT1ZFUkxJTUlUCj4gICAgIFdoZW5ldmVyIHRoZSB0b3RhbCBxdWV1ZSBsaW1pdCBm
b3IgYSBDQUtFIGluc3RhbmNlIGlzIGV4Y2VlZGVkIGFuZCBhCj4gICAgIHBhY2tldCBpcyBkcm9w
cGVkIHRvIG1ha2Ugcm9vbS4KPgo+IEFsc28gdXNlIHRoZSBleGlzdGluZyBTS0JfRFJPUF9SRUFT
T05fUVVFVUVfUFVSR0UgaW4gY2FrZV9jbGVhcl90aW4oKS4KPgo+IFJlYXNvbnMgc2hvdyB1cCBh
czoKPgo+IHBlcmYgcmVjb3JkIC1hIC1lIHNrYjprZnJlZV9za2Igc2xlZXAgMTsgcGVyZiBzY3Jp
cHQKPgo+ICAgICAgICAgICBpcGVyZjMgICAgIDY2NSBbMDA1XSAgIDg0OC42NTY5NjQ6IHNrYjpr
ZnJlZV9za2I6IHNrYmFkZHI9MHhmZmZmOTgxNjhhMzMzNTAwIHJ4X3NrPShuaWwpIHByb3RvY29s
PTM0NTI1IGxvY2F0aW9uPV9fZGV2X3F1ZXVlX3htaXQrMHgxMGYwIHJlYXNvbjogQ0FLRV9PVkVS
TElNSVQKPiAgICAgICAgICBzd2FwcGVyICAgICAgIDAgWzAwMV0gICA5MDkuMTY2MDU1OiBza2I6
a2ZyZWVfc2tiOiBza2JhZGRyPTB4ZmZmZjk4MTY4MjgwY2VlMCByeF9zaz0obmlsKSBwcm90b2Nv
bD0zNDUyNSBsb2NhdGlvbj1jYWtlX2RlcXVldWUrMHg1ZWYgcmVhc29uOiBDQUtFX0NPTkdFU1RF
RAo+Cj4gU2lnbmVkLW9mZi1ieTogVG9rZSBIw7hpbGFuZC1Kw7hyZ2Vuc2VuIDx0b2tlQHJlZGhh
dC5jb20+CgpBY2tlZC1ieTogRGF2ZSBUYWh0IDxkYXZlLnRhaHRAZ21haWwuY29tPgoKPiAtLS0K
PiAgaW5jbHVkZS9uZXQvZHJvcHJlYXNvbi1jb3JlLmggfCAxOCArKysrKysrKysrKysrKysrKysK
PiAgbmV0L3NjaGVkL3NjaF9jYWtlLmMgICAgICAgICAgfCA0MyArKysrKysrKysrKysrKysrKysr
KysrKy0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gIDIgZmlsZXMgY2hhbmdlZCwgNDEgaW5zZXJ0aW9u
cygrKSwgMjAgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9uZXQvZHJvcHJl
YXNvbi1jb3JlLmggYi9pbmNsdWRlL25ldC9kcm9wcmVhc29uLWNvcmUuaAo+IGluZGV4IGMyOTI4
MmZhYmFlNmNkZjlkZDc5ZjY5OGI5MmI0YjhmNTcxNTZiMWUuLmE5YmU3NmJlMTFhZDY3ZDZjYzcx
NzVmMWE2NDMzMTRhN2RjZGYwYjggMTAwNjQ0Cj4gLS0tIGEvaW5jbHVkZS9uZXQvZHJvcHJlYXNv
bi1jb3JlLmgKPiArKysgYi9pbmNsdWRlL25ldC9kcm9wcmVhc29uLWNvcmUuaAo+IEBAIC02MSw2
ICs2MSw5IEBACj4gICAgICAgICBGTihGUV9CQU5EX0xJTUlUKSAgICAgICAgICAgICAgIFwKPiAg
ICAgICAgIEZOKEZRX0hPUklaT05fTElNSVQpICAgICAgICAgICAgXAo+ICAgICAgICAgRk4oRlFf
RkxPV19MSU1JVCkgICAgICAgICAgICAgICBcCj4gKyAgICAgICBGTihDQUtFX0NPTkdFU1RFRCkg
ICAgICAgICAgICAgIFwKPiArICAgICAgIEZOKENBS0VfRkxPT0QpICAgICAgICAgICAgICAgICAg
XAo+ICsgICAgICAgRk4oQ0FLRV9PVkVSTElNSVQpICAgICAgICAgICAgICBcCj4gICAgICAgICBG
TihDUFVfQkFDS0xPRykgICAgICAgICAgICAgICAgIFwKPiAgICAgICAgIEZOKFhEUCkgICAgICAg
ICAgICAgICAgICAgICAgICAgXAo+ICAgICAgICAgRk4oVENfSU5HUkVTUykgICAgICAgICAgICAg
ICAgICBcCj4gQEAgLTMyOSw2ICszMzIsMjEgQEAgZW51bSBza2JfZHJvcF9yZWFzb24gewo+ICAg
ICAgICAgICogZXhjZWVkcyBpdHMgbGltaXRzLgo+ICAgICAgICAgICovCj4gICAgICAgICBTS0Jf
RFJPUF9SRUFTT05fRlFfRkxPV19MSU1JVCwKPiArICAgICAgIC8qKgo+ICsgICAgICAgICogQFNL
Ql9EUk9QX1JFQVNPTl9DQUtFX0NPTkdFU1RFRDogZHJvcHBlZCBieSB0aGUgQ0FLRSBxZGlzYyBB
UU0KPiArICAgICAgICAqIGFsZ29yaXRobSBkdWUgdG8gY29uZ2VzdGlvbi4KPiArICAgICAgICAq
Lwo+ICsgICAgICAgU0tCX0RST1BfUkVBU09OX0NBS0VfQ09OR0VTVEVELAo+ICsgICAgICAgLyoq
Cj4gKyAgICAgICAgKiBAU0tCX0RST1BfUkVBU09OX0NBS0VfRkxPT0Q6IGRyb3BwZWQgYnkgdGhl
IGZsb29kIHByb3RlY3Rpb24gcGFydCBvZgo+ICsgICAgICAgICogQ0FLRSBxZGlzYyBBUU0gYWxn
b3JpdGhtIChCTFVFKS4KPiArICAgICAgICAqLwo+ICsgICAgICAgU0tCX0RST1BfUkVBU09OX0NB
S0VfRkxPT0QsCj4gKyAgICAgICAvKioKPiArICAgICAgICAqIEBTS0JfRFJPUF9SRUFTT05fQ0FL
RV9PVkVSTElNSVQ6IGRyb3BwZWQgYnkgQ0FLRSBxZGlzYyB3aGVuIGEgcWRpc2MKPiArICAgICAg
ICAqIGluc3RhbmNlIGV4Y2VlZHMgaXRzIHRvdGFsIGJ1ZmZlciBzaXplIGxpbWl0Lgo+ICsgICAg
ICAgICovCj4gKyAgICAgICBTS0JfRFJPUF9SRUFTT05fQ0FLRV9PVkVSTElNSVQsCj4gICAgICAg
ICAvKioKPiAgICAgICAgICAqIEBTS0JfRFJPUF9SRUFTT05fQ1BVX0JBQ0tMT0c6IGZhaWxlZCB0
byBlbnF1ZXVlIHRoZSBza2IgdG8gdGhlIHBlciBDUFUKPiAgICAgICAgICAqIGJhY2tsb2cgcXVl
dWUuIFRoaXMgY2FuIGJlIGNhdXNlZCBieSBiYWNrbG9nIHF1ZXVlIGZ1bGwgKHNlZQo+IGRpZmYg
LS1naXQgYS9uZXQvc2NoZWQvc2NoX2Nha2UuYyBiL25ldC9zY2hlZC9zY2hfY2FrZS5jCj4gaW5k
ZXggOGQ4YjJkYjQ2NTNjMGM5ZjI3MWY5YzE5NTNlOGM2MTE3NWQ4Zjc2Yi4uYTU3YmRjNzcxZGQx
NGU4MWZiMGNkZjU0Y2E3ODkwYWM5NmYxZTMxMSAxMDA2NDQKPiAtLS0gYS9uZXQvc2NoZWQvc2No
X2Nha2UuYwo+ICsrKyBiL25ldC9zY2hlZC9zY2hfY2FrZS5jCj4gQEAgLTQ4NCwxMyArNDg0LDE0
IEBAIHN0YXRpYyBib29sIGNvYmFsdF9xdWV1ZV9lbXB0eShzdHJ1Y3QgY29iYWx0X3ZhcnMgKnZh
cnMsCj4gIC8qIENhbGwgdGhpcyB3aXRoIGEgZnJlc2hseSBkZXF1ZXVlZCBwYWNrZXQgZm9yIHBv
c3NpYmxlIGNvbmdlc3Rpb24gbWFya2luZy4KPiAgICogUmV0dXJucyB0cnVlIGFzIGFuIGluc3Ry
dWN0aW9uIHRvIGRyb3AgdGhlIHBhY2tldCwgZmFsc2UgZm9yIGRlbGl2ZXJ5Lgo+ICAgKi8KPiAt
c3RhdGljIGJvb2wgY29iYWx0X3Nob3VsZF9kcm9wKHN0cnVjdCBjb2JhbHRfdmFycyAqdmFycywK
PiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGNvYmFsdF9wYXJhbXMgKnAs
Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGt0aW1lX3Qgbm93LAo+IC0gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qgc2tfYnVmZiAqc2tiLAo+IC0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB1MzIgYnVsa19mbG93cykKPiArc3RhdGljIGVudW0gc2tiX2Ry
b3BfcmVhc29uIGNvYmFsdF9zaG91bGRfZHJvcChzdHJ1Y3QgY29iYWx0X3ZhcnMgKnZhcnMsCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgY29i
YWx0X3BhcmFtcyAqcCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGt0aW1lX3Qgbm93LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgc3RydWN0IHNrX2J1ZmYgKnNrYiwKPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHUzMiBidWxrX2Zsb3dzKQo+ICB7Cj4gLSAgICAgICBi
b29sIG5leHRfZHVlLCBvdmVyX3RhcmdldCwgZHJvcCA9IGZhbHNlOwo+ICsgICAgICAgZW51bSBz
a2JfZHJvcF9yZWFzb24gcmVhc29uID0gU0tCX05PVF9EUk9QUEVEX1lFVDsKPiArICAgICAgIGJv
b2wgbmV4dF9kdWUsIG92ZXJfdGFyZ2V0Owo+ICAgICAgICAga3RpbWVfdCBzY2hlZHVsZTsKPiAg
ICAgICAgIHU2NCBzb2pvdXJuOwo+Cj4gQEAgLTUzMyw3ICs1MzQsOCBAQCBzdGF0aWMgYm9vbCBj
b2JhbHRfc2hvdWxkX2Ryb3Aoc3RydWN0IGNvYmFsdF92YXJzICp2YXJzLAo+Cj4gICAgICAgICBp
ZiAobmV4dF9kdWUgJiYgdmFycy0+ZHJvcHBpbmcpIHsKPiAgICAgICAgICAgICAgICAgLyogVXNl
IEVDTiBtYXJrIGlmIHBvc3NpYmxlLCBvdGhlcndpc2UgZHJvcCAqLwo+IC0gICAgICAgICAgICAg
ICBkcm9wID0gISh2YXJzLT5lY25fbWFya2VkID0gSU5FVF9FQ05fc2V0X2NlKHNrYikpOwo+ICsg
ICAgICAgICAgICAgICBpZiAoISh2YXJzLT5lY25fbWFya2VkID0gSU5FVF9FQ05fc2V0X2NlKHNr
YikpKQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbiA9IFNLQl9EUk9QX1JFQVNPTl9D
QUtFX0NPTkdFU1RFRDsKPgo+ICAgICAgICAgICAgICAgICB2YXJzLT5jb3VudCsrOwo+ICAgICAg
ICAgICAgICAgICBpZiAoIXZhcnMtPmNvdW50KQo+IEBAIC01NTYsMTYgKzU1OCwxNyBAQCBzdGF0
aWMgYm9vbCBjb2JhbHRfc2hvdWxkX2Ryb3Aoc3RydWN0IGNvYmFsdF92YXJzICp2YXJzLAo+ICAg
ICAgICAgfQo+Cj4gICAgICAgICAvKiBTaW1wbGUgQkxVRSBpbXBsZW1lbnRhdGlvbi4gIExhY2sg
b2YgRUNOIGlzIGRlbGliZXJhdGUuICovCj4gLSAgICAgICBpZiAodmFycy0+cF9kcm9wKQo+IC0g
ICAgICAgICAgICAgICBkcm9wIHw9IChnZXRfcmFuZG9tX3UzMigpIDwgdmFycy0+cF9kcm9wKTsK
PiArICAgICAgIGlmICh2YXJzLT5wX2Ryb3AgJiYgcmVhc29uID09IFNLQl9OT1RfRFJPUFBFRF9Z
RVQgJiYKPiArICAgICAgICAgICBnZXRfcmFuZG9tX3UzMigpIDwgdmFycy0+cF9kcm9wKQo+ICsg
ICAgICAgICAgICAgICByZWFzb24gPSBTS0JfRFJPUF9SRUFTT05fQ0FLRV9GTE9PRDsKPgo+ICAg
ICAgICAgLyogT3ZlcmxvYWQgdGhlIGRyb3BfbmV4dCBmaWVsZCBhcyBhbiBhY3Rpdml0eSB0aW1l
b3V0ICovCj4gICAgICAgICBpZiAoIXZhcnMtPmNvdW50KQo+ICAgICAgICAgICAgICAgICB2YXJz
LT5kcm9wX25leHQgPSBrdGltZV9hZGRfbnMobm93LCBwLT5pbnRlcnZhbCk7Cj4gLSAgICAgICBl
bHNlIGlmIChrdGltZV90b19ucyhzY2hlZHVsZSkgPiAwICYmICFkcm9wKQo+ICsgICAgICAgZWxz
ZSBpZiAoa3RpbWVfdG9fbnMoc2NoZWR1bGUpID4gMCAmJiByZWFzb24gPT0gU0tCX05PVF9EUk9Q
UEVEX1lFVCkKPiAgICAgICAgICAgICAgICAgdmFycy0+ZHJvcF9uZXh0ID0gbm93Owo+Cj4gLSAg
ICAgICByZXR1cm4gZHJvcDsKPiArICAgICAgIHJldHVybiByZWFzb247Cj4gIH0KPgo+ICBzdGF0
aWMgYm9vbCBjYWtlX3VwZGF0ZV9mbG93a2V5cyhzdHJ1Y3QgZmxvd19rZXlzICprZXlzLAo+IEBA
IC0xNTI4LDEyICsxNTMxLDExIEBAIHN0YXRpYyB1bnNpZ25lZCBpbnQgY2FrZV9kcm9wKHN0cnVj
dCBRZGlzYyAqc2NoLCBzdHJ1Y3Qgc2tfYnVmZiAqKnRvX2ZyZWUpCj4KPiAgICAgICAgIGZsb3ct
PmRyb3BwZWQrKzsKPiAgICAgICAgIGItPnRpbl9kcm9wcGVkKys7Cj4gLSAgICAgICBzY2gtPnFz
dGF0cy5kcm9wcysrOwo+Cj4gICAgICAgICBpZiAocS0+cmF0ZV9mbGFncyAmIENBS0VfRkxBR19J
TkdSRVNTKQo+ICAgICAgICAgICAgICAgICBjYWtlX2FkdmFuY2Vfc2hhcGVyKHEsIGIsIHNrYiwg
bm93LCB0cnVlKTsKPgo+IC0gICAgICAgX19xZGlzY19kcm9wKHNrYiwgdG9fZnJlZSk7Cj4gKyAg
ICAgICBxZGlzY19kcm9wX3JlYXNvbihza2IsIHNjaCwgdG9fZnJlZSwgU0tCX0RST1BfUkVBU09O
X0NBS0VfT1ZFUkxJTUlUKTsKPiAgICAgICAgIHNjaC0+cS5xbGVuLS07Cj4gICAgICAgICBxZGlz
Y190cmVlX3JlZHVjZV9iYWNrbG9nKHNjaCwgMSwgbGVuKTsKPgo+IEBAIC0xOTI2LDcgKzE5Mjgs
NyBAQCBzdGF0aWMgdm9pZCBjYWtlX2NsZWFyX3RpbihzdHJ1Y3QgUWRpc2MgKnNjaCwgdTE2IHRp
bikKPiAgICAgICAgIHEtPmN1cl90aW4gPSB0aW47Cj4gICAgICAgICBmb3IgKHEtPmN1cl9mbG93
ID0gMDsgcS0+Y3VyX2Zsb3cgPCBDQUtFX1FVRVVFUzsgcS0+Y3VyX2Zsb3crKykKPiAgICAgICAg
ICAgICAgICAgd2hpbGUgKCEhKHNrYiA9IGNha2VfZGVxdWV1ZV9vbmUoc2NoKSkpCj4gLSAgICAg
ICAgICAgICAgICAgICAgICAga2ZyZWVfc2tiKHNrYik7Cj4gKyAgICAgICAgICAgICAgICAgICAg
ICAga2ZyZWVfc2tiX3JlYXNvbihza2IsIFNLQl9EUk9QX1JFQVNPTl9RVUVVRV9QVVJHRSk7Cj4g
IH0KPgo+ICBzdGF0aWMgc3RydWN0IHNrX2J1ZmYgKmNha2VfZGVxdWV1ZShzdHJ1Y3QgUWRpc2Mg
KnNjaCkKPiBAQCAtMTkzNCw2ICsxOTM2LDcgQEAgc3RhdGljIHN0cnVjdCBza19idWZmICpjYWtl
X2RlcXVldWUoc3RydWN0IFFkaXNjICpzY2gpCj4gICAgICAgICBzdHJ1Y3QgY2FrZV9zY2hlZF9k
YXRhICpxID0gcWRpc2NfcHJpdihzY2gpOwo+ICAgICAgICAgc3RydWN0IGNha2VfdGluX2RhdGEg
KmIgPSAmcS0+dGluc1txLT5jdXJfdGluXTsKPiAgICAgICAgIHN0cnVjdCBjYWtlX2hvc3QgKnNy
Y2hvc3QsICpkc3Rob3N0Owo+ICsgICAgICAgZW51bSBza2JfZHJvcF9yZWFzb24gcmVhc29uOwo+
ICAgICAgICAga3RpbWVfdCBub3cgPSBrdGltZV9nZXQoKTsKPiAgICAgICAgIHN0cnVjdCBjYWtl
X2Zsb3cgKmZsb3c7Cj4gICAgICAgICBzdHJ1Y3QgbGlzdF9oZWFkICpoZWFkOwo+IEBAIC0yMTQz
LDEyICsyMTQ2LDEyIEBAIHN0YXRpYyBzdHJ1Y3Qgc2tfYnVmZiAqY2FrZV9kZXF1ZXVlKHN0cnVj
dCBRZGlzYyAqc2NoKQo+ICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gYmVnaW47Cj4gICAg
ICAgICAgICAgICAgIH0KPgo+ICsgICAgICAgICAgICAgICByZWFzb24gPSBjb2JhbHRfc2hvdWxk
X2Ryb3AoJmZsb3ctPmN2YXJzLCAmYi0+Y3BhcmFtcywgbm93LCBza2IsCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYi0+YnVsa19mbG93X2NvdW50ICoKPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhIShxLT5yYXRlX2Zs
YWdzICYKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBD
QUtFX0ZMQUdfSU5HUkVTUykpKTsKPiAgICAgICAgICAgICAgICAgLyogTGFzdCBwYWNrZXQgaW4g
cXVldWUgbWF5IGJlIG1hcmtlZCwgc2hvdWxkbid0IGJlIGRyb3BwZWQgKi8KPiAtICAgICAgICAg
ICAgICAgaWYgKCFjb2JhbHRfc2hvdWxkX2Ryb3AoJmZsb3ctPmN2YXJzLCAmYi0+Y3BhcmFtcywg
bm93LCBza2IsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChiLT5i
dWxrX2Zsb3dfY291bnQgKgo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgISEocS0+cmF0ZV9mbGFncyAmCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBDQUtFX0ZMQUdfSU5HUkVTUykpKSB8fAo+IC0gICAgICAgICAgICAgICAgICAg
IWZsb3ctPmhlYWQpCj4gKyAgICAgICAgICAgICAgIGlmIChyZWFzb24gPT0gU0tCX05PVF9EUk9Q
UEVEX1lFVCB8fCAhZmxvdy0+aGVhZCkKPiAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsK
Pgo+ICAgICAgICAgICAgICAgICAvKiBkcm9wIHRoaXMgcGFja2V0LCBnZXQgYW5vdGhlciBvbmUg
Ki8KPiBAQCAtMjE2Miw3ICsyMTY1LDcgQEAgc3RhdGljIHN0cnVjdCBza19idWZmICpjYWtlX2Rl
cXVldWUoc3RydWN0IFFkaXNjICpzY2gpCj4gICAgICAgICAgICAgICAgIGItPnRpbl9kcm9wcGVk
Kys7Cj4gICAgICAgICAgICAgICAgIHFkaXNjX3RyZWVfcmVkdWNlX2JhY2tsb2coc2NoLCAxLCBx
ZGlzY19wa3RfbGVuKHNrYikpOwo+ICAgICAgICAgICAgICAgICBxZGlzY19xc3RhdHNfZHJvcChz
Y2gpOwo+IC0gICAgICAgICAgICAgICBrZnJlZV9za2Ioc2tiKTsKPiArICAgICAgICAgICAgICAg
a2ZyZWVfc2tiX3JlYXNvbihza2IsIHJlYXNvbik7Cj4gICAgICAgICAgICAgICAgIGlmIChxLT5y
YXRlX2ZsYWdzICYgQ0FLRV9GTEFHX0lOR1JFU1MpCj4gICAgICAgICAgICAgICAgICAgICAgICAg
Z290byByZXRyeTsKPiAgICAgICAgIH0KPgo+IC0tLQo+IGJhc2UtY29tbWl0OiA3ZWEyNzQ1NzY2
ZDc3Njg2NmNmYmM5ODFiMjFlZDNjZmRmNTAxMjRlCj4gY2hhbmdlLWlkOiAyMDI0MTIwNS1jYWtl
LWRyb3AtcmVhc29uLWIxNjYxZTFlN2YwYQo+Cj4gX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KPiBDYWtlIG1haWxpbmcgbGlzdAo+IENha2VAbGlzdHMuYnVm
ZmVyYmxvYXQubmV0Cj4gaHR0cHM6Ly9saXN0cy5idWZmZXJibG9hdC5uZXQvbGlzdGluZm8vY2Fr
ZQoKCgotLSAKRGF2ZSBUw6RodCBDU08sIExpYnJlUW9zCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCkNha2UgbWFpbGluZyBsaXN0CkNha2VAbGlzdHMuYnVm
ZmVyYmxvYXQubmV0Cmh0dHBzOi8vbGlzdHMuYnVmZmVyYmxvYXQubmV0L2xpc3RpbmZvL2Nha2UK

Return-Path: <cake-bounces@lists.bufferbloat.net>
X-Original-To: lists+cake@lfdr.de
Delivered-To: lists+cake@lfdr.de
Received: from lists.bufferbloat.net (lists.bufferbloat.net [IPv6:2600:3c03:e000:3ca:f00f:f00f:b33b:b33b])
	by mail.lfdr.de (Postfix) with ESMTPS id 9481D12BC0A
	for <lists+cake@lfdr.de>; Sat, 28 Dec 2019 01:45:15 +0100 (CET)
Received: from pitt.bufferbloat.net (localhost [127.0.0.1])
	by lists.bufferbloat.net (Postfix) with ESMTP id EF8603CB38;
	Fri, 27 Dec 2019 19:45:13 -0500 (EST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
	d=lists.bufferbloat.net; s=201610; t=1577493913;
	bh=6WX7GjqOktU8N9M1/FiwBJPEoNq5BQZgkK+WMeZV224=;
	h=References:In-Reply-To:From:Date:To:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 From;
	b=hcHlOI01qTVDaM2Zpjk7mw8FudGU0erahsgMXv+PInObDYHtDqa0jTwToY7WX9+qc
	 mCFwJ1Ai8fHYg/V68JxWm43EiPUu4cz/qsesr921QMwv0SivMijV26hfWiRxxo5P3q
	 PoYE+edrxDBR/pXYkSYCGw+G7FCLt16pKtDYgUqKT20TFyJj2PMDHpewK13Z+Lr1ew
	 PEECpqVgKUnvwBP/iFSS4BuoqOwVOnHdEePrf4xCBpv/ZewVZnHuWt8qU4UZBi0vw8
	 hIBHFlxw+EuFfGe6kzkEJYykgiYWUZvzV6i6dUFGEbccoQ+xn6PfzGJbWdGS//o4d6
	 POk6QQySnakTA==
X-Original-To: cake@lists.bufferbloat.net
Delivered-To: cake@lists.bufferbloat.net
Received: from mail-il1-x12d.google.com (mail-il1-x12d.google.com
 [IPv6:2607:f8b0:4864:20::12d])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by lists.bufferbloat.net (Postfix) with ESMTPS id 89D403B29E
 for <cake@lists.bufferbloat.net>; Fri, 27 Dec 2019 19:45:12 -0500 (EST)
Received: by mail-il1-x12d.google.com with SMTP id f10so23547404ils.8
 for <cake@lists.bufferbloat.net>; Fri, 27 Dec 2019 16:45:12 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :content-transfer-encoding;
 bh=G9Imi8lpYz0eG1QmrrC1zVRVYhVnKQX12P9MqjSxO2Q=;
 b=FH4lF7BE5WtifQ5adoFNKd4lD+0yz3YDC280G/t4ov6QN3HvKsIV3/4OWYz0sSWBkZ
 7XKO8Nb6iGbwiPD3GvLCHBKGWO/MOetaHjycZsCRjq3ALhW8wygWToChVUtnyNC1U41F
 cy8ha9Hf5jdWtFxm17KxV+qwk+DU6DnQg6CLAikZpGaj4EbDv3B4gQsocRnDTnQra9Mv
 tHv5uuzWXc3FafKhL5D/oXHWzdYXfBsIyrEh7M9j/vtaC3bOmLj+O2Oq26lC5LeSxpaU
 EGmMyE7UaUR9PFa+tIsckmLNGueOgAObJNAXVt45p7428CykNKCUAIl2It69MS3hCNk+
 WtDQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:content-transfer-encoding;
 bh=G9Imi8lpYz0eG1QmrrC1zVRVYhVnKQX12P9MqjSxO2Q=;
 b=ALxaXIOqtqf/oq9MasJk59ES8M4jp8L/pfJkrU/2PTHzJ4VHseBnpbbZpS3k5IO45/
 A8TrPqbhdU19gzgM5jOqQ9KAI+PzC0JNU9nSLC8surWYgdv57jbnuVWyyNtjke3saiPM
 DndIRGT9rZkEBJ+4hHopDmAankAeM0LOAmuVeYsQ/DOWGjXlwFMbf6OYKcckhUx4PLqc
 KFYZ23q6ZzvbaXh767yuazo0EOXTzvcna8mpHeRBRzR84aaqSOmq48mdxEE3XrXPWJS4
 UPTyjKO9saTxSagRsd4CNrsCB7u0sX01CejadOIJeWk825bp21DHWrdT8K/Is1MCXEzc
 YSqg==
X-Gm-Message-State: APjAAAVtMM0A0T5fiKgdXF8ruvFdzZWZNW/QIDGN99lj86M1KaB9ndrc
 44yaQHlV3Py9LDGdJ3p5pLAH/C6UuyEBdp7PD7VFtAsE
X-Google-Smtp-Source: APXvYqxGz2HYJqZqXu8PW/mesoBxDUOm1K2PsGRCobFLaSZ6uF24ffXS3+dlKM3pfB6jfUiAtUq18pmf3Rn96eE9B2s=
X-Received: by 2002:a05:6e02:5c8:: with SMTP id
 l8mr48474924ils.287.1577493911609; 
 Fri, 27 Dec 2019 16:45:11 -0800 (PST)
MIME-Version: 1.0
References: <20191225085101.19696-1-sladkani@proofpoint.com>
In-Reply-To: <20191225085101.19696-1-sladkani@proofpoint.com>
From: Dave Taht <dave.taht@gmail.com>
Date: Fri, 27 Dec 2019 16:45:00 -0800
Message-ID: <CAA93jw6wxNKd0Wy153W1ZXVjFKrhCaCfDtW2j-rnkpHOemHnCw@mail.gmail.com>
To: Cake List <cake@lists.bufferbloat.net>
Subject: [Cake] Fwd: [PATCH net] net/sched: act_mirred: Pull mac prior redir
 to non mac_header_xmit device
X-BeenThere: cake@lists.bufferbloat.net
X-Mailman-Version: 2.1.20
Precedence: list
List-Id: Cake - FQ_codel the next generation <cake.lists.bufferbloat.net>
List-Unsubscribe: <https://lists.bufferbloat.net/options/cake>,
 <mailto:cake-request@lists.bufferbloat.net?subject=unsubscribe>
List-Archive: <https://lists.bufferbloat.net/pipermail/cake>
List-Post: <mailto:cake@lists.bufferbloat.net>
List-Help: <mailto:cake-request@lists.bufferbloat.net?subject=help>
List-Subscribe: <https://lists.bufferbloat.net/listinfo/cake>,
 <mailto:cake-request@lists.bufferbloat.net?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: cake-bounces@lists.bufferbloat.net
Sender: "Cake" <cake-bounces@lists.bufferbloat.net>

bm90IHN1cmUgaG93IGxvbmcgdGhpcyBoYXMgZXhpc3RlZC4KCi0tLS0tLS0tLS0gRm9yd2FyZGVk
IG1lc3NhZ2UgLS0tLS0tLS0tCkZyb206IDxzaG11bGlrQG1ldGFuZXR3b3Jrcy5jb20+CkRhdGU6
IFdlZCwgRGVjIDI1LCAyMDE5IGF0IDEyOjUxIEFNClN1YmplY3Q6IFtQQVRDSCBuZXRdIG5ldC9z
Y2hlZDogYWN0X21pcnJlZDogUHVsbCBtYWMgcHJpb3IgcmVkaXIgdG8Kbm9uIG1hY19oZWFkZXJf
eG1pdCBkZXZpY2UKVG86IEphbWFsIEhhZGkgU2FsaW0gPGpoc0Btb2phdGF0dS5jb20+LCBDb25n
IFdhbmcKPHhpeW91Lndhbmdjb25nQGdtYWlsLmNvbT4sIEppcmkgUGlya28gPGppcmlAcmVzbnVs
bGkudXM+CkNjOiBEYXZpZCBTIC4gTWlsbGVyIDxkYXZlbUBkYXZlbWxvZnQubmV0PiwgPG5ldGRl
dkB2Z2VyLmtlcm5lbC5vcmc+LAo8c2htdWxpay5sYWRrYW5pQGdtYWlsLmNvbT4sIFNobXVsaWsg
TGFka2FuaSA8c2xhZGthbmlAcHJvb2Zwb2ludC5jb20+CgoKRnJvbTogU2htdWxpayBMYWRrYW5p
IDxzbGFka2FuaUBwcm9vZnBvaW50LmNvbT4KClRoZXJlJ3Mgbm8gc2tiX3B1bGwgcGVyZm9ybWVk
IHdoZW4gYSBtaXJyZWQgYWN0aW9uIGlzIHNldCBhdCBlZ3Jlc3Mgb2YgYQptYWMgZGV2aWNlLCB3
aXRoIGEgdGFyZ2V0IGRldmljZS9hY3Rpb24gdGhhdCBleHBlY3RzIHNrYi0+ZGF0YSB0byBwb2lu
dAphdCB0aGUgbmV0d29yayBoZWFkZXIuCgpBcyBhIHJlc3VsdCwgZWl0aGVyIHRoZSB0YXJnZXQg
ZGV2aWNlIGlzIGVycm9ybm91c2x5IGdpdmVuIGFuIHNrYiB3aXRoCmRhdGEgcG9pbnRpbmcgdG8g
dGhlIG1hYyAoZWdyZXNzIGNhc2UpLCBvciB0aGUgbmV0IHN0YWNrIHJlY2VpdmVzIHRoZQpza2Ig
d2l0aCBkYXRhIHBvaW50aW5nIHRvIHRoZSBtYWMgKGluZ3Jlc3MgY2FzZSkuCgpFLmc6CiAjIHRj
IHFkaXNjIGFkZCBkZXYgZXRoOSByb290IGhhbmRsZSAxOiBwcmlvCiAjIHRjIGZpbHRlciBhZGQg
ZGV2IGV0aDkgcGFyZW50IDE6IHByaW8gOSBwcm90b2NvbCBpcCBoYW5kbGUgOSBiYXNpYyBcCiAg
IGFjdGlvbiBtaXJyZWQgZWdyZXNzIHJlZGlyZWN0IGRldiB0dW4wCgogKHR1bjAgaXMgYSB0dW4g
ZGV2aWNlLiByZXN1bHQ6IHR1bjAgZXJyb3Jub3VzbHkgZ2V0cyB0aGUgZXRoIGhlYWRlcgogIGlu
c3RlYWQgb2YgdGhlIGlwaCkKClJldmlzZSB0aGUgcHVzaC9wdWxsIGxvZ2ljIG9mIHRjZl9taXJy
ZWRfYWN0KCkgdG8gbm90IHJlbHkgb24gdGhlCnNrYl9hdF90Y19pbmdyZXNzKCkgdnMgdGNmX21p
cnJlZF9hY3Rfd2FudHNfaW5ncmVzcygpIGNvbXBhcmlzb24sIGFzIGl0CmRvZXMgbm90IGNvdmVy
IGFsbCAicHVsbCIgY2FzZXMuCgpJbnN0ZWFkLCBjYWxjdWxhdGUgd2hldGhlciB0aGUgcmVxdWly
ZWQgYWN0aW9uIG9uIHRoZSB0YXJnZXQgZGV2aWNlCnJlcXVpcmVzIHRoZSBkYXRhIHRvIHBvaW50
IGF0IHRoZSBuZXR3b3JrIGhlYWRlciwgYW5kIGNvbXBhcmUgdGhpcyB0bwp3aGV0aGVyIHNrYi0+
ZGF0YSBwb2ludHMgdG8gbmV0d29yayBoZWFkZXIgLSBhbmQgbWFrZSB0aGUgcHVzaC9wdWxsCmFk
anVzdG1lbnRzIGFzIG5lY2Vzc2FyeS4KCkZpeGVzOiAxZGExNzdlNGMzZjQgKCJMaW51eC0yLjYu
MTItcmMyIikKU2lnbmVkLW9mZi1ieTogU2htdWxpayBMYWRrYW5pIDxzbGFka2FuaUBwcm9vZnBv
aW50LmNvbT4KVGVzdGVkLWJ5OiBKYW1hbCBIYWRpIFNhbGltIDxqaHNAbW9qYXRhdHUuY29tPgpB
Y2tlZC1ieTogSmFtYWwgSGFkaSBTYWxpbSA8amhzQG1vamF0YXR1LmNvbT4KLS0tCiBuZXQvc2No
ZWQvYWN0X21pcnJlZC5jIHwgMjIgKysrKysrKysrKysrLS0tLS0tLS0tLQogMSBmaWxlIGNoYW5n
ZWQsIDEyIGluc2VydGlvbnMoKyksIDEwIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL25ldC9z
Y2hlZC9hY3RfbWlycmVkLmMgYi9uZXQvc2NoZWQvYWN0X21pcnJlZC5jCmluZGV4IDFlM2ViM2E5
NzUzMi4uMWFkMzAwZTZkYmMwIDEwMDY0NAotLS0gYS9uZXQvc2NoZWQvYWN0X21pcnJlZC5jCisr
KyBiL25ldC9zY2hlZC9hY3RfbWlycmVkLmMKQEAgLTIxOSw4ICsyMTksMTAgQEAgc3RhdGljIGlu
dCB0Y2ZfbWlycmVkX2FjdChzdHJ1Y3Qgc2tfYnVmZiAqc2tiLApjb25zdCBzdHJ1Y3QgdGNfYWN0
aW9uICphLAogICAgICAgIGJvb2wgdXNlX3JlaW5zZXJ0OwogICAgICAgIGJvb2wgd2FudF9pbmdy
ZXNzOwogICAgICAgIGJvb2wgaXNfcmVkaXJlY3Q7CisgICAgICAgYm9vbCBleHBlY3RzX25oOwog
ICAgICAgIGludCBtX2VhY3Rpb247CiAgICAgICAgaW50IG1hY19sZW47CisgICAgICAgYm9vbCBh
dF9uaDsKCiAgICAgICAgcmVjX2xldmVsID0gX190aGlzX2NwdV9pbmNfcmV0dXJuKG1pcnJlZF9y
ZWNfbGV2ZWwpOwogICAgICAgIGlmICh1bmxpa2VseShyZWNfbGV2ZWwgPiBNSVJSRURfUkVDVVJT
SU9OX0xJTUlUKSkgewpAQCAtMjYxLDE5ICsyNjMsMTkgQEAgc3RhdGljIGludCB0Y2ZfbWlycmVk
X2FjdChzdHJ1Y3Qgc2tfYnVmZiAqc2tiLApjb25zdCBzdHJ1Y3QgdGNfYWN0aW9uICphLAogICAg
ICAgICAgICAgICAgICAgICAgICBnb3RvIG91dDsKICAgICAgICB9CgotICAgICAgIC8qIElmIGFj
dGlvbidzIHRhcmdldCBkaXJlY3Rpb24gZGlmZmVycyB0aGFuIGZpbHRlcidzIGRpcmVjdGlvbiwK
LSAgICAgICAgKiBhbmQgZGV2aWNlcyBleHBlY3QgYSBtYWMgaGVhZGVyIG9uIHhtaXQsIHRoZW4g
bWFjIHB1c2gvcHVsbCBpcwotICAgICAgICAqIG5lZWRlZC4KLSAgICAgICAgKi8KICAgICAgICB3
YW50X2luZ3Jlc3MgPSB0Y2ZfbWlycmVkX2FjdF93YW50c19pbmdyZXNzKG1fZWFjdGlvbik7Ci0g
ICAgICAgaWYgKHNrYl9hdF90Y19pbmdyZXNzKHNrYikgIT0gd2FudF9pbmdyZXNzICYmIG1fbWFj
X2hlYWRlcl94bWl0KSB7Ci0gICAgICAgICAgICAgICBpZiAoIXNrYl9hdF90Y19pbmdyZXNzKHNr
YikpIHsKLSAgICAgICAgICAgICAgICAgICAgICAgLyogY2F1Z2h0IGF0IGVncmVzcywgYWN0IGlu
Z3Jlc3M6IHB1bGwgbWFjICovCi0gICAgICAgICAgICAgICAgICAgICAgIG1hY19sZW4gPSBza2Jf
bmV0d29ya19oZWFkZXIoc2tiKSAtIHNrYl9tYWNfaGVhZGVyKHNrYik7CisKKyAgICAgICBleHBl
Y3RzX25oID0gd2FudF9pbmdyZXNzIHx8ICFtX21hY19oZWFkZXJfeG1pdDsKKyAgICAgICBhdF9u
aCA9IHNrYi0+ZGF0YSA9PSBza2JfbmV0d29ya19oZWFkZXIoc2tiKTsKKyAgICAgICBpZiAoYXRf
bmggIT0gZXhwZWN0c19uaCkgeworICAgICAgICAgICAgICAgbWFjX2xlbiA9IHNrYl9hdF90Y19p
bmdyZXNzKHNrYikgPyBza2ItPm1hY19sZW4gOgorICAgICAgICAgICAgICAgICAgICAgICAgIHNr
Yl9uZXR3b3JrX2hlYWRlcihza2IpIC0gc2tiX21hY19oZWFkZXIoc2tiKTsKKyAgICAgICAgICAg
ICAgIGlmIChleHBlY3RzX25oKSB7CisgICAgICAgICAgICAgICAgICAgICAgIC8qIHRhcmdldCBk
ZXZpY2UvYWN0aW9uIGV4cGVjdCBkYXRhIGF0IG5oICovCiAgICAgICAgICAgICAgICAgICAgICAg
IHNrYl9wdWxsX3Jjc3VtKHNrYjIsIG1hY19sZW4pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsK
LSAgICAgICAgICAgICAgICAgICAgICAgLyogY2F1Z2h0IGF0IGluZ3Jlc3MsIGFjdCBlZ3Jlc3M6
IHB1c2ggbWFjICovCi0gICAgICAgICAgICAgICAgICAgICAgIHNrYl9wdXNoX3Jjc3VtKHNrYjIs
IHNrYi0+bWFjX2xlbik7CisgICAgICAgICAgICAgICAgICAgICAgIC8qIHRhcmdldCBkZXZpY2Uv
YWN0aW9uIGV4cGVjdCBkYXRhIGF0IG1hYyAqLworICAgICAgICAgICAgICAgICAgICAgICBza2Jf
cHVzaF9yY3N1bShza2IyLCBtYWNfbGVuKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICB9Cgot
LQoyLjI0LjEKCgoKLS0gCk1ha2UgTXVzaWMsIE5vdCBXYXIKCkRhdmUgVMOkaHQKQ1RPLCBUZWtM
aWJyZSwgTExDCmh0dHA6Ly93d3cudGVrbGlicmUuY29tClRlbDogMS04MzEtNDM1LTA3MjkKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KQ2FrZSBtYWlsaW5n
IGxpc3QKQ2FrZUBsaXN0cy5idWZmZXJibG9hdC5uZXQKaHR0cHM6Ly9saXN0cy5idWZmZXJibG9h
dC5uZXQvbGlzdGluZm8vY2FrZQo=
